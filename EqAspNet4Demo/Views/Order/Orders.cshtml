@using Korzh.EasyQuery.AspNet
@{
    ViewData["Title"] = "Data Filtering demo";
    ViewData["MenuTitle"] = "Data Filtering demo";
}

@section Styles  {
    <link rel="stylesheet" href="https://cdn.korzh.com/eq/6.1.4/eq.core.min.css">
}

<div class="eqjs-process-bar" id="ProcessBar"></div>
<div class="container">
    <h4>Orders</h4>

    @Html.FilterBar()

    <div id="ResultPanel"></div>
</div>


@section Scripts {

    <!-- EasyQuery script -->
    <!--<script src="https://cdn.korzh.com/eq/6.1.4/eq.community.min.js"></script>-->
    <script src="https://cdn.korzh.com/eq/6.1.4/eq.enterprise.min.js"></script>

    <!-- EasyQuery script files -->
    <script>
        window.addEventListener('load', function () {
            var viewOptions = {
                loadModelOnStart: true,
                clearResultOnQueryChange: false,
                endpoint: "data-filtering",
                widgets: {
                    filterBar: {
                        queryPanel: {
                            attrElementFormat: "{entity} {attr}"
                        }
                    },
                    eqHtmlGrid: {
                        useBootstrap: true
                    }
                }
            }
            var view = new easyquery.ui.HtmlDataFilterView();
            view.getContext().useEnterprise('@Korzh.EasyQuery.AspNet.JSLicense.Key');
            view.init(viewOptions);
        });
    </script>
}
